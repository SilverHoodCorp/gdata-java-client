<?xml version="1.0"?>

  <!--
    You must have ANDROID_JAR set to the location of android.jar (minimum 2.0),
    and JAVA_HOME set to a JDK (minimum 1.5) installation.
  -->
<project basedir="." default="compile" name="common">

  <property environment="env" />
  <property file="build.properties" />
  <property name="classes.dir" value="${build.dir}/classes" />

  <target name="dist-init">
    <property name="dist.dir" value="${build.dir}/dist" />
    <mkdir dir="${dist.dir}" />
    <property name="android.dir" value="${dist.dir}/android" />
    <mkdir dir="${android.dir}" />
  </target>

  <target name="compile" description="Compile">
    <mkdir dir="${classes.dir}" />
    <javac debug="true" destdir="${classes.dir}" source="1.5" target="1.5">
      <compilerarg value="-Xlint:all" />
      <src path="${src.dir}" />
      <classpath>
        <!-- TODO Remove once request layer is using generic jsonEntity -->
        <pathelement location="${lib.dir}/json.jar" />
        <!--
          TODO change to this env variable @release time <pathelement
          location="${env.ANDROID_JAR}" />
        -->
        <pathelement location="${lib.dir}/android-2.0.1.jar" />
        <pathelement location="${lib.dir}/jackson-core-asl-1.5.0.jar" />
      </classpath>
    </javac>
  </target>
</project>
